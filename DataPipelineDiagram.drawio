<mxfile host="app.diagrams.net" modified="2021-04-20T06:23:14.940Z" agent="5.0 (Macintosh; Intel Mac OS X 11_2_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36" etag="63a8AhWKKC3qS8jeOm-G" version="14.5.10" type="github" pages="5">
  <diagram name="ExamCopy" id="APzfpvWsl1Z9vvSuLqmT">
    <mxGraphModel dx="1282" dy="674" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="YF0CPLprW75edrQH-U4y-0" />
        <mxCell id="YF0CPLprW75edrQH-U4y-1" parent="YF0CPLprW75edrQH-U4y-0" />
        <mxCell id="YF0CPLprW75edrQH-U4y-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-5" target="YF0CPLprW75edrQH-U4y-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-3" value="Statefull events" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="YF0CPLprW75edrQH-U4y-2">
          <mxGeometry x="-0.2963" y="3" relative="1" as="geometry">
            <mxPoint x="12" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-5" target="YF0CPLprW75edrQH-U4y-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-5" value="InformationAPP" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="210" y="320" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-6" value="&lt;h1&gt;Policing System - Data Pipeline&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="35" y="30" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-9" target="YF0CPLprW75edrQH-U4y-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-8" value="CockroachDB&lt;br&gt;Kafka&lt;br&gt;Connector" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="YF0CPLprW75edrQH-U4y-7">
          <mxGeometry x="-0.1467" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-9" value="CockroachDB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="428" y="300" width="102" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-11" target="YF0CPLprW75edrQH-U4y-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-11" value="Law officer" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="50" y="260" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-13" target="YF0CPLprW75edrQH-U4y-5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="100" y="380" />
              <mxPoint x="100" y="335" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-13" value="Survivour" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="40" y="350" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-15" target="YF0CPLprW75edrQH-U4y-5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="130" y="480" />
              <mxPoint x="130" y="350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-15" value="Volunteer" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="40" y="450" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-16" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;div&gt;&lt;b&gt;Why CockroachDB?&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;1. Allows Horizontal Scaling;Can resolve Slowness;&lt;/div&gt;&lt;div&gt;2. Automatic Fail Over due to distributed SQL&lt;/div&gt;&lt;div&gt;3. Immediate Consistency&lt;/div&gt;&lt;div&gt;4. RDBMS like Structure, so impl will higher adaptability among the developers.&lt;/div&gt;&lt;div&gt;5. Key Value store is inherently faster, so should solve the slowness issue.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="400" y="105" width="310" height="195" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-18" target="YF0CPLprW75edrQH-U4y-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="870" y="330" />
              <mxPoint x="870" y="330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-18" value="Kafka Cluster" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="680" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-20" target="YF0CPLprW75edrQH-U4y-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-20" value="Data Lake&lt;br&gt;(AWS S3)" style="shape=datastore;whiteSpace=wrap;html=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="927" y="280" width="150" height="120" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-21" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;p&gt;- Maintaining Data lake in the form of AWS S3 to dump all the data from multiple streams and sources.&amp;nbsp;&lt;/p&gt;&lt;p&gt;- This will not burden the Data ware house which will only have multi dimensional fact tables and dimension tables for easy consumption.&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="1083" y="280" width="300" height="160" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-22" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;p&gt;&lt;b&gt;Why AWS S3?&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Making use of AWS S3 instead of HDFS since AWS S3 is cloud managed service and is elastic in nature. Since, we are looking at lot of data being generated from live feeds of camera, audio, files being generated; it is better to have a scalable storage which requires minimum handling of the servers.&lt;/p&gt;&lt;p&gt;Other than that, S3 can be secured better compared to typical on premise servers. AWS provides, firewalls, encryption at rest as well as transit; which are resource intensive when it comes to managing it n HDFS&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="790" y="80" width="460" height="200" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-24" target="YF0CPLprW75edrQH-U4y-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-24" value="Splunk/Logs" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="517.5" y="410" width="75" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-26" target="YF0CPLprW75edrQH-U4y-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="849" y="450" />
              <mxPoint x="849" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-26" value="Logs Ingestion Service" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="690" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=52.5;entryPerimeter=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-29" target="YF0CPLprW75edrQH-U4y-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-29" target="YF0CPLprW75edrQH-U4y-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-29" value="Incident APP" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="130" y="810" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-32" target="YF0CPLprW75edrQH-U4y-55">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1002" y="1005" />
              <mxPoint x="580" y="1005" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.783;exitY=0.969;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-32" target="YF0CPLprW75edrQH-U4y-59">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1040" y="731" />
              <mxPoint x="1040" y="830" />
              <mxPoint x="1260" y="830" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-32" value="Datawarehouse&lt;br&gt;ColumnarDB&lt;br&gt;(AWS Redshift /Cassandra)" style="shape=datastore;whiteSpace=wrap;html=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="942" y="605" width="120" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.033;entryY=0.65;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-34" target="YF0CPLprW75edrQH-U4y-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-34" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;p&gt;&lt;span&gt;Schema of Fact Tables and Dimension Tables has to be defined.&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;We can go with simple Star Schema for DataWare house.&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;This will help us getting results about the queries of incidents, across regions. This solves the IncidentAPP issues about slowness in getting incident related analytical insights.&lt;/span&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="1062" y="609" width="270" height="200" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-36" target="YF0CPLprW75edrQH-U4y-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-36" value="Processing/ETL&lt;br&gt;(Spark/AWS Glue)" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="942" y="480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-37" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;div&gt;- Processing is to be done here to generate fact and dimension tables.&amp;nbsp;&lt;/div&gt;&lt;div&gt;- Data generated from IncidentAPP has to be processed and re-arranged to give faster query results for number of incidents, and different fact table and dimension table arrangements.&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="1070" y="440" width="313" height="160" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-38" value="&lt;b&gt;Fact Table&lt;br&gt;&lt;/b&gt;IncidentsNumbers&lt;br&gt;Region" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="1370" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.417;entryY=0.167;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-40" target="YF0CPLprW75edrQH-U4y-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-40" value="&lt;b&gt;DimensionTable&lt;/b&gt;&lt;br&gt;Country&lt;br&gt;Cities&lt;br&gt;Pincocde" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="1510" y="574.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-42" target="YF0CPLprW75edrQH-U4y-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-42" value="&lt;b&gt;DimensionTable&lt;/b&gt;&lt;br&gt;Incident_ID&lt;br&gt;Incident_Details&lt;br&gt;Incident_Victim&lt;br&gt;Incident_Preprator" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="1504" y="655" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-45" target="YF0CPLprW75edrQH-U4y-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-44" value="Kafka Connector &lt;br&gt;for MongoDB" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="YF0CPLprW75edrQH-U4y-43">
          <mxGeometry x="0.3889" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-45" value="MongoDB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="348" y="790" width="102" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-47" target="YF0CPLprW75edrQH-U4y-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-47" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;div&gt;&lt;b&gt;Using DocumentDB here because:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;1. Benefit from MongoDB no SQL inherent horizontal scaling issues.&lt;/div&gt;&lt;div&gt;2. IncidentAPP can have lot of data from various sources; so it could really require varied attributes for different incidents. So schema less is advantages here.&lt;/div&gt;&lt;div&gt;3. MongoDB can also store unstructured data&amp;nbsp; and files , and incident app apparantly generates lot of unstrucured data as well.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="240" y="910" width="313" height="190" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-49" target="YF0CPLprW75edrQH-U4y-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-49" value="&lt;b&gt;CollectLogs:&lt;/b&gt; Need to Store log data as it is advisable to collect all the data and dump in data lake so that later it can be made use of for anayltics lilke how many users using it , at what point in time and for how long for each function. This may not be necessary for now but later can be usefull; so better to collect and dump in data lake." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="184" y="480" width="266" height="110" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-53" target="YF0CPLprW75edrQH-U4y-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-53" target="YF0CPLprW75edrQH-U4y-73">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8zOpQxGvA1TDJtgS3TWw-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-53" target="YF0CPLprW75edrQH-U4y-63">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="710" y="720" />
              <mxPoint x="810" y="720" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-53" value="Kafka Cluster" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="610" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-55" target="YF0CPLprW75edrQH-U4y-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-55" value="IncidentsQueryAPI for Aggregate Queries" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="480" y="1110" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.033;entryY=0.867;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-57" target="YF0CPLprW75edrQH-U4y-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-57" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;div&gt;This API is required to fetch the Query details related to incidents.&amp;nbsp;&lt;/div&gt;&lt;div&gt;In the Dataware house, since we have created Fact Tables linked with Dimension tables, it will be pretty speedy to get these details and display in the app.&lt;/div&gt;&lt;div&gt;A new microservice can be used, which Incident Front end App will call when ever it requires data.&amp;nbsp;&lt;/div&gt;&lt;div&gt;This approach should be pretty fast.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Another reason it is advisable to have this approach is because this will &lt;b&gt;not burden the production DB&lt;/b&gt; in this case MongoDB. These incidents related queries are aggregated queries can directly be handled from Dataware house where they are already processed and managed in multidimensions using fact and dimension tables.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="690" y="1060" width="420" height="250" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-58" value="Send incident related information to data warehouse at real time for processing, so that incident related data can be computed and arranged for analytics" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="488" y="585.5" width="270" height="49" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-59" value="Visualization" style="shape=internalStorage;whiteSpace=wrap;html=1;backgroundOutline=1;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="1170" y="940" width="180" height="170" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-61">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="940" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8zOpQxGvA1TDJtgS3TWw-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-61">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="920" y="840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-61" value="KafkaStreams Live data analysis" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="780" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-62" value="Transformations like handling NaN values etc&lt;br&gt;Analog Analytics&lt;br&gt;Text analysis" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="783" y="580" width="137" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-63" value="ElasticSearch ELK&lt;br&gt;For Real time Incidents Visualization" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="750" y="775" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-65" target="YF0CPLprW75edrQH-U4y-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-65" value="3 Replicas with at least 24 hr retention.&lt;br&gt;Delivery gurantee to be set as&amp;nbsp; &amp;nbsp;&quot;at least once&quot;&lt;br&gt;so that no incident is missed; duplicates can be taken care at the next level which is transformation." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="480" y="730" width="185" height="110" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-66" value="&lt;h1&gt;Other Considerations:&lt;/h1&gt;&lt;p&gt;Auditing: How close to the reality our data analysis is&lt;/p&gt;&lt;p&gt;Security: Masking, Authentication&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="170" y="1230" width="310" height="120" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-68">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="420" y="1450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-68" value="ConnectAPP" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="160" y="1420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="YF0CPLprW75edrQH-U4y-1" source="YF0CPLprW75edrQH-U4y-70">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="690" y="1450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-70" value="SparkStreaming" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="428" y="1420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-71" value="For live Analysis of Data&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="370" y="1500" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-72" value="Raise Alarm" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="690" y="1420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YF0CPLprW75edrQH-U4y-73" value="KSQL can also be used to Query Streaming Data in Kafak" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="605" y="900" width="270" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8zOpQxGvA1TDJtgS3TWw-5" value="Kafka Streams&amp;nbsp; do not have high latency, so if latency is the issue than always use Kafka Streams but integration with other systems is not very good, so use Spark Streaming if latency is not of much concern." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="YF0CPLprW75edrQH-U4y-1">
          <mxGeometry x="880" y="840" width="250" height="90" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="86TCpwpJEMBFlHIx1PRZ" name="Page-1">
    <mxGraphModel dx="1282" dy="674" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="M00Jkyyd9K6bwBccqDg0-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="M00Jkyyd9K6bwBccqDg0-53" target="M00Jkyyd9K6bwBccqDg0-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-79" value="Statefull events" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="M00Jkyyd9K6bwBccqDg0-67" vertex="1" connectable="0">
          <mxGeometry x="-0.2963" y="3" relative="1" as="geometry">
            <mxPoint x="12" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="M00Jkyyd9K6bwBccqDg0-53" target="M00Jkyyd9K6bwBccqDg0-82">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-53" value="InformationAPP" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="210" y="320" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-54" value="&lt;h1&gt;Policing System Datapipline&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="40" y="40" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="M00Jkyyd9K6bwBccqDg0-55" target="M00Jkyyd9K6bwBccqDg0-69" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-41" value="CockroachDB&lt;br&gt;Kafka&lt;br&gt;Connector" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="M00Jkyyd9K6bwBccqDg0-70">
          <mxGeometry x="-0.1467" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-55" value="CockroachDB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="428" y="300" width="102" height="80" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="M00Jkyyd9K6bwBccqDg0-56" target="M00Jkyyd9K6bwBccqDg0-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-56" value="Law officer" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="50" y="260" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="M00Jkyyd9K6bwBccqDg0-61" target="M00Jkyyd9K6bwBccqDg0-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="100" y="380" />
              <mxPoint x="100" y="335" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-61" value="Survivour" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="40" y="350" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="M00Jkyyd9K6bwBccqDg0-62" target="M00Jkyyd9K6bwBccqDg0-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="130" y="480" />
              <mxPoint x="130" y="350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-62" value="Volunteer" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="40" y="450" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-66" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;div&gt;&lt;b&gt;Why CockroachDB?&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;1. Allows Horizontal Scaling;Can resolve Slowness;&lt;/div&gt;&lt;div&gt;2. Automatic Fail Over due to distributed SQL&lt;/div&gt;&lt;div&gt;3. Immediate Consistency&lt;/div&gt;&lt;div&gt;4. RDBMS like Structure, so impl will higher adaptability among the developers.&lt;/div&gt;&lt;div&gt;5. Key Value store is inherently faster, so should solve the slowness issue.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="400" y="105" width="310" height="195" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="M00Jkyyd9K6bwBccqDg0-69" target="M00Jkyyd9K6bwBccqDg0-71" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="870" y="330" />
              <mxPoint x="870" y="330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-69" value="Kafka Cluster" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="680" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="M00Jkyyd9K6bwBccqDg0-71" target="M00Jkyyd9K6bwBccqDg0-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-71" value="Data Lake&lt;br&gt;(AWS S3)" style="shape=datastore;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="927" y="280" width="150" height="120" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-73" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;p&gt;- Maintaining Data lake in the form of AWS S3 to dump all the data from multiple streams and sources.&amp;nbsp;&lt;/p&gt;&lt;p&gt;- This will not burden the Data ware house which will only have multi dimensional fact tables and dimension tables for easy consumption.&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1083" y="280" width="300" height="160" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-75" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;p&gt;&lt;b&gt;Why AWS S3?&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Making use of AWS S3 instead of HDFS since AWS S3 is cloud managed service and is elastic in nature. Since, we are looking at lot of data being generated from live feeds of camera, audio, files being generated; it is better to have a scalable storage which requires minimum handling of the servers.&lt;/p&gt;&lt;p&gt;Other than that, S3 can be secured better compared to typical on premise servers. AWS provides, firewalls, encryption at rest as well as transit; which are resource intensive when it comes to managing it n HDFS&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="790" y="80" width="460" height="200" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="M00Jkyyd9K6bwBccqDg0-80" target="M00Jkyyd9K6bwBccqDg0-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-80" value="Splunk/Logs" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="517.5" y="410" width="75" height="80" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="M00Jkyyd9K6bwBccqDg0-85" target="M00Jkyyd9K6bwBccqDg0-71" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="849" y="450" />
              <mxPoint x="849" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-85" value="Logs Ingestion Service" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="690" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=52.5;entryPerimeter=0;" edge="1" parent="1" source="M00Jkyyd9K6bwBccqDg0-89" target="7txRCt_JXUs7RKzOq8Ak-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="M00Jkyyd9K6bwBccqDg0-89" target="M00Jkyyd9K6bwBccqDg0-82">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-89" value="Incident APP" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="130" y="810" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="M00Jkyyd9K6bwBccqDg0-90" target="7txRCt_JXUs7RKzOq8Ak-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1002" y="1005" />
              <mxPoint x="580" y="1005" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.783;exitY=0.969;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="M00Jkyyd9K6bwBccqDg0-90" target="7txRCt_JXUs7RKzOq8Ak-27">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1040" y="731" />
              <mxPoint x="1040" y="830" />
              <mxPoint x="1260" y="830" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-90" value="Datawarehouse&lt;br&gt;ColumnarDB&lt;br&gt;(AWS Redshift /Cassandra)" style="shape=datastore;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="942" y="605" width="120" height="130" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.033;entryY=0.65;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="M00Jkyyd9K6bwBccqDg0-92" target="M00Jkyyd9K6bwBccqDg0-97">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-92" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;p&gt;&lt;span&gt;Schema of Fact Tables and Dimension Tables has to be defined.&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;We can go with simple Star Schema for DataWare house.&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;This will help us getting results about the queries of incidents, across regions. This solves the IncidentAPP issues about slowness in getting incident related analytical insights.&lt;/span&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1062" y="609" width="270" height="200" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="M00Jkyyd9K6bwBccqDg0-93" target="M00Jkyyd9K6bwBccqDg0-90" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-93" value="Processing/ETL&lt;br&gt;(Spark/AWS Glue)" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="942" y="480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-96" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;div&gt;- Processing is to be done here to generate fact and dimension tables.&amp;nbsp;&lt;/div&gt;&lt;div&gt;- Data generated from IncidentAPP has to be processed and re-arranged to give faster query results for number of incidents, and different fact table and dimension table arrangements.&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1070" y="440" width="313" height="160" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-97" value="&lt;b&gt;Fact Table&lt;br&gt;&lt;/b&gt;IncidentsNumbers&lt;br&gt;Region" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="1370" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.417;entryY=0.167;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="M00Jkyyd9K6bwBccqDg0-98" target="M00Jkyyd9K6bwBccqDg0-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-98" value="&lt;b&gt;DimensionTable&lt;/b&gt;&lt;br&gt;Country&lt;br&gt;Cities&lt;br&gt;Pincocde" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="1510" y="574.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-101" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="M00Jkyyd9K6bwBccqDg0-99" target="M00Jkyyd9K6bwBccqDg0-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-99" value="&lt;b&gt;DimensionTable&lt;/b&gt;&lt;br&gt;Incident_ID&lt;br&gt;Incident_Details&lt;br&gt;Incident_Victim&lt;br&gt;Incident_Preprator" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="1504" y="655" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="7txRCt_JXUs7RKzOq8Ak-1" target="7txRCt_JXUs7RKzOq8Ak-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-24" value="Kafka Connector &lt;br&gt;for MongoDB" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="7txRCt_JXUs7RKzOq8Ak-9">
          <mxGeometry x="0.3889" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-1" value="MongoDB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="348" y="790" width="102" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="7txRCt_JXUs7RKzOq8Ak-4" target="7txRCt_JXUs7RKzOq8Ak-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-4" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;div&gt;&lt;b&gt;Using DocumentDB here because:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;1. Benefit from MongoDB no SQL inherent horizontal scaling issues.&lt;/div&gt;&lt;div&gt;2. IncidentAPP can have lot of data from various sources; so it could really require varied attributes for different incidents. So schema less is advantages here.&lt;/div&gt;&lt;div&gt;3. MongoDB can also store unstructured data&amp;nbsp; and files , and incident app apparantly generates lot of unstrucured data as well.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="240" y="910" width="313" height="190" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="M00Jkyyd9K6bwBccqDg0-82" target="M00Jkyyd9K6bwBccqDg0-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="M00Jkyyd9K6bwBccqDg0-82" value="&lt;b&gt;CollectLogs:&lt;/b&gt; Need to Store log data as it is advisable to collect all the data and dump in data lake so that later it can be made use of for anayltics lilke how many users using it , at what point in time and for how long for each function. This may not be necessary for now but later can be usefull; so better to collect and dump in data lake." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="184" y="480" width="266" height="110" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="7txRCt_JXUs7RKzOq8Ak-8" target="7txRCt_JXUs7RKzOq8Ak-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="7txRCt_JXUs7RKzOq8Ak-8" target="7txRCt_JXUs7RKzOq8Ak-39">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="670" y="740" />
              <mxPoint x="860" y="740" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SPkuPFHy3vh_rZcVOL5i-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="7txRCt_JXUs7RKzOq8Ak-8" target="SPkuPFHy3vh_rZcVOL5i-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-8" value="Kafka Cluster" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="1">
          <mxGeometry x="610" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="7txRCt_JXUs7RKzOq8Ak-20" target="M00Jkyyd9K6bwBccqDg0-89">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-20" value="IncidentsQueryAPI for Aggregate Queries" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="1110" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.033;entryY=0.867;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="7txRCt_JXUs7RKzOq8Ak-23" target="7txRCt_JXUs7RKzOq8Ak-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-23" value="&lt;h1&gt;Consideration:&lt;/h1&gt;&lt;div&gt;This API is required to fetch the Query details related to incidents.&amp;nbsp;&lt;/div&gt;&lt;div&gt;In the Dataware house, since we have created Fact Tables linked with Dimension tables, it will be pretty speedy to get these details and display in the app.&lt;/div&gt;&lt;div&gt;A new microservice can be used, which Incident Front end App will call when ever it requires data.&amp;nbsp;&lt;/div&gt;&lt;div&gt;This approach should be pretty fast.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Another reason it is advisable to have this approach is because this will &lt;b&gt;not burden the production DB&lt;/b&gt; in this case MongoDB. These incidents related queries are aggregated queries can directly be handled from Dataware house where they are already processed and managed in multidimensions using fact and dimension tables.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="690" y="1060" width="420" height="250" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-26" value="Send incident related information to data warehouse at real time for processing, so that incident related data can be computed and arranged for analytics" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="488" y="585.5" width="270" height="49" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-27" value="Visualization" style="shape=internalStorage;whiteSpace=wrap;html=1;backgroundOutline=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1170" y="940" width="180" height="170" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="7txRCt_JXUs7RKzOq8Ak-29">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="940" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-29" value="Spark/AWS Glue Processing and Transformation for incidents" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="780" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-33" value="Transformations like handling NaN values etc&lt;br&gt;Analog Analytics&lt;br&gt;Text analysis" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="783" y="580" width="137" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-39" value="ElasticSearch ELK&lt;br&gt;For Real time Incidents Visualization" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="800" y="775" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="7txRCt_JXUs7RKzOq8Ak-44" target="7txRCt_JXUs7RKzOq8Ak-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-44" value="3 Replicas with at least 24 hr retention.&lt;br&gt;Delivery gurantee to be set as&amp;nbsp; &amp;nbsp;&quot;at least once&quot;&lt;br&gt;so that no incident is missed; duplicates can be taken care at the next level which is transformation." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="730" width="185" height="110" as="geometry" />
        </mxCell>
        <mxCell id="7txRCt_JXUs7RKzOq8Ak-49" value="&lt;h1&gt;Other Considerations:&lt;/h1&gt;&lt;p&gt;Auditing: How close to the reality our data analysis is&lt;/p&gt;&lt;p&gt;Security: Masking, Authentication&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="1230" width="310" height="120" as="geometry" />
        </mxCell>
        <mxCell id="II3lYOn81gBue7E85nwl-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="II3lYOn81gBue7E85nwl-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="420" y="1450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="II3lYOn81gBue7E85nwl-1" value="ConnectAPP" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="160" y="1420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="II3lYOn81gBue7E85nwl-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="II3lYOn81gBue7E85nwl-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="690" y="1450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="II3lYOn81gBue7E85nwl-3" value="SparkStreaming" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="428" y="1420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="II3lYOn81gBue7E85nwl-4" value="For live Analysis of Data&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="370" y="1500" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="II3lYOn81gBue7E85nwl-6" value="Raise Alarm" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="690" y="1420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SPkuPFHy3vh_rZcVOL5i-1" value="KSQL can also be used to Query Streaming Data in Kafak" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="605" y="900" width="270" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="sokzipqtzOe1h6msOYng" name="DBChoices">
    <mxGraphModel dx="1282" dy="674" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="3UqN9f_yNtxF5DANuFR4-0" />
        <mxCell id="3UqN9f_yNtxF5DANuFR4-1" parent="3UqN9f_yNtxF5DANuFR4-0" />
        <mxCell id="9lhsWO-V5EIX8ggLbWEE-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="3UqN9f_yNtxF5DANuFR4-1" source="9lhsWO-V5EIX8ggLbWEE-0" target="9lhsWO-V5EIX8ggLbWEE-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9lhsWO-V5EIX8ggLbWEE-0" value="&lt;b&gt;MongoDB&lt;/b&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;shadow=1;" vertex="1" parent="3UqN9f_yNtxF5DANuFR4-1">
          <mxGeometry x="110" y="77.5" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9lhsWO-V5EIX8ggLbWEE-3" value="&lt;h1&gt;CAP Theoram: CP&lt;/h1&gt;&lt;p&gt;-MongoDB is a CP system.&lt;/p&gt;&lt;p&gt;-It has Master-Slave arch i.e. read write can happen only in Master or primary machine.&lt;/p&gt;&lt;p&gt;&lt;span&gt;- i.e. if primary fails, re-election happens but during this type system will not be available&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;- This maintains the consistency of data but at the cost of system availability.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;shadow=1;" vertex="1" parent="3UqN9f_yNtxF5DANuFR4-1">
          <mxGeometry x="330" y="25" width="350" height="185" as="geometry" />
        </mxCell>
        <mxCell id="9lhsWO-V5EIX8ggLbWEE-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="3UqN9f_yNtxF5DANuFR4-1" source="9lhsWO-V5EIX8ggLbWEE-5" target="9lhsWO-V5EIX8ggLbWEE-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9lhsWO-V5EIX8ggLbWEE-5" value="&lt;b&gt;Cassandra&lt;/b&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;shadow=1;" vertex="1" parent="3UqN9f_yNtxF5DANuFR4-1">
          <mxGeometry x="110" y="345" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9lhsWO-V5EIX8ggLbWEE-6" value="&lt;h1&gt;CAP Theoram:AP&lt;/h1&gt;&lt;p&gt;-Casandra is a AP system.&lt;/p&gt;&lt;p&gt;-It has master less archs. i.e. read write can happen from any node.&lt;/p&gt;&lt;p&gt;- Because of this reason system will always be Available even though some nodes are down.&lt;/p&gt;&lt;p&gt;- However, system will not have immediate consistency as it will take some time to copy the state of DB from one node to another. But it has a promise of eventual consistency.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;shadow=1;" vertex="1" parent="3UqN9f_yNtxF5DANuFR4-1">
          <mxGeometry x="330" y="290" width="380" height="190" as="geometry" />
        </mxCell>
        <UserObject label="&amp;nbsp;&lt;b&gt;Link: &lt;/b&gt;https://www.ibm.com/cloud/learn/cap-theorem" link="https://www.ibm.com/cloud/learn/cap-theorem" id="9lhsWO-V5EIX8ggLbWEE-9">
          <mxCell style="text;whiteSpace=wrap;html=1;" vertex="1" parent="3UqN9f_yNtxF5DANuFR4-1">
            <mxGeometry x="20" y="10" width="300" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="9lhsWO-V5EIX8ggLbWEE-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.003;entryY=0.411;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="3UqN9f_yNtxF5DANuFR4-1" source="9lhsWO-V5EIX8ggLbWEE-10" target="9lhsWO-V5EIX8ggLbWEE-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9lhsWO-V5EIX8ggLbWEE-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="3UqN9f_yNtxF5DANuFR4-1" source="9lhsWO-V5EIX8ggLbWEE-10" target="9lhsWO-V5EIX8ggLbWEE-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9lhsWO-V5EIX8ggLbWEE-10" value="CockroachDB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;shadow=1;" vertex="1" parent="3UqN9f_yNtxF5DANuFR4-1">
          <mxGeometry x="100" y="560" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9lhsWO-V5EIX8ggLbWEE-11" value="&lt;h1&gt;CAP Theoram: CP but HA&lt;/h1&gt;&lt;p&gt;-CockroachDB is also a CP system but with High Availability&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;shadow=1;" vertex="1" parent="3UqN9f_yNtxF5DANuFR4-1">
          <mxGeometry x="320" y="520" width="380" height="90" as="geometry" />
        </mxCell>
        <UserObject label="https://www.cockroachlabs.com/docs/stable/frequently-asked-questions.html#how-is-cockroachdb-both-highly-available-and-strongly-consistent" link="https://www.cockroachlabs.com/docs/stable/frequently-asked-questions.html#how-is-cockroachdb-both-highly-available-and-strongly-consistent" id="9lhsWO-V5EIX8ggLbWEE-12">
          <mxCell style="text;whiteSpace=wrap;html=1;" vertex="1" parent="3UqN9f_yNtxF5DANuFR4-1">
            <mxGeometry x="245" y="620" width="550" height="40" as="geometry" />
          </mxCell>
        </UserObject>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="nAH0pt2wdRR5eKk2N3gx" name="Kafka">
    <mxGraphModel dx="1282" dy="1843" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="jCGFnb368hU8gwx-G9o3-0" />
        <mxCell id="jCGFnb368hU8gwx-G9o3-1" parent="jCGFnb368hU8gwx-G9o3-0" />
        <mxCell id="jCGFnb368hU8gwx-G9o3-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="jCGFnb368hU8gwx-G9o3-1" source="jCGFnb368hU8gwx-G9o3-2" target="jCGFnb368hU8gwx-G9o3-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jCGFnb368hU8gwx-G9o3-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="jCGFnb368hU8gwx-G9o3-1" source="jCGFnb368hU8gwx-G9o3-2" target="jCGFnb368hU8gwx-G9o3-5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="440" y="150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jCGFnb368hU8gwx-G9o3-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="jCGFnb368hU8gwx-G9o3-1" source="jCGFnb368hU8gwx-G9o3-2" target="jCGFnb368hU8gwx-G9o3-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="400" y="220" />
              <mxPoint x="295" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jCGFnb368hU8gwx-G9o3-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="jCGFnb368hU8gwx-G9o3-1" source="jCGFnb368hU8gwx-G9o3-2" target="jCGFnb368hU8gwx-G9o3-14">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="650" y="350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jCGFnb368hU8gwx-G9o3-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.034;entryY=-0.01;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="jCGFnb368hU8gwx-G9o3-1" source="jCGFnb368hU8gwx-G9o3-2" target="jCGFnb368hU8gwx-G9o3-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jCGFnb368hU8gwx-G9o3-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.573;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="jCGFnb368hU8gwx-G9o3-1" source="jCGFnb368hU8gwx-G9o3-2" target="jCGFnb368hU8gwx-G9o3-10">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="343" y="320" />
              <mxPoint x="343" y="303" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jCGFnb368hU8gwx-G9o3-2" value="kafka Cluster" style="points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#945DF2;gradientDirection=north;fillColor=#5A30B5;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.managed_streaming_for_kafka;shadow=1;" vertex="1" parent="jCGFnb368hU8gwx-G9o3-1">
          <mxGeometry x="375" y="305" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="jCGFnb368hU8gwx-G9o3-3" value="&lt;h1&gt;Partition&lt;/h1&gt;&lt;p&gt;1. Partion is to do with performance, more partition better the write and read operations.&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;shadow=1;" vertex="1" parent="jCGFnb368hU8gwx-G9o3-1">
          <mxGeometry x="30" y="465" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="jCGFnb368hU8gwx-G9o3-5" value="&lt;h1&gt;How to Design Topic:&lt;/h1&gt;&lt;p&gt;1. Labelling of the type of data stream. like Incidents&lt;/p&gt;&lt;p&gt;2. Multiple events in the same topic is not a good idea, because then all consumers will not be able to choose, every one will get every thing and consumers will be flooded with lot of irrelevant information.&lt;/p&gt;&lt;p&gt;3. Also, very atomic level Topics are also curse to the performance of the cluster. Each topic will have at least one partition. Need to find the right balance of categorising.&amp;nbsp;&lt;/p&gt;&lt;p&gt;4. There can be few thumb rules to follow:&lt;/p&gt;&lt;p&gt;4.a:&amp;nbsp;&lt;span&gt;Thumb rule: topic == collection of events of the same type, this follows the SQL table rule, all same type of &quot;entity&quot; record having same schema in the same table.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4.b: If the events are sensitive to ordering, they should also be kept together rather than stripped apart prematurely.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4.c: If there are two different entities but they are related then also its better to keep them together because cost of combining them in order will be more later.&lt;/span&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;shadow=1;" vertex="1" parent="jCGFnb368hU8gwx-G9o3-1">
          <mxGeometry x="640" y="-30" width="440" height="340" as="geometry" />
        </mxCell>
        <mxCell id="jCGFnb368hU8gwx-G9o3-8" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;markot&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; font-size: 16px ; font-style: normal ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;&lt;b&gt;How to create topics&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;markot&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; font-size: 16px ; font-style: normal ; font-weight: 300 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;: &lt;br&gt;The common wisdom&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;markot&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; font-size: 16px ; font-style: normal ; font-weight: 300 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;&amp;nbsp;seems to be: put all events of the same type in the same topic, and use different topics for different event types. That line of thinking is reminiscent of relational databases, where a table is a collection of records with the same type (i.e. the same set of columns), so we have an analogy between a relational table and a Kafka topic.&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="jCGFnb368hU8gwx-G9o3-1">
          <mxGeometry x="30" width="550" height="120" as="geometry" />
        </mxCell>
        <mxCell id="jCGFnb368hU8gwx-G9o3-10" value="Ordering requirements also need to be taken care of, we need to keep events in the same topic or partition which are ordering sensitive; like customer created and customerChangedAddress has to be in the same topic, because ordering matters here." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" vertex="1" parent="jCGFnb368hU8gwx-G9o3-1">
          <mxGeometry x="30" y="240" width="280" height="110" as="geometry" />
        </mxCell>
        <UserObject label="&lt;b&gt;Excellent Article&lt;/b&gt;: https://www.confluent.io/blog/put-several-event-types-kafka-topic/" link="https://www.confluent.io/blog/put-several-event-types-kafka-topic/" id="jCGFnb368hU8gwx-G9o3-12">
          <mxCell style="text;whiteSpace=wrap;html=1;" vertex="1" parent="jCGFnb368hU8gwx-G9o3-1">
            <mxGeometry x="110" y="-100" width="370" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="jCGFnb368hU8gwx-G9o3-14" value="&lt;b style=&quot;box-sizing: border-box ; font-weight: bold ; color: rgb(0 , 0 , 0) ; font-family: &amp;#34;markot&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; font-size: 16px ; font-style: normal ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255)&quot;&gt;any events that need to stay in a fixed order must go in the same topic&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="jCGFnb368hU8gwx-G9o3-1">
          <mxGeometry x="650" y="333" width="550" height="50" as="geometry" />
        </mxCell>
        <mxCell id="jCGFnb368hU8gwx-G9o3-18" value="&lt;h1&gt;Guarantees:&lt;/h1&gt;&lt;div&gt;&lt;b&gt;Important Link to Follow on the subject:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34; ; color: rgb(220 , 161 , 13)&quot;&gt;&lt;a href=&quot;https://medium.com/@andy.bryant/processing-guarantees-in-kafka-12dd2e30be0e&quot;&gt;https://medium.com/@andy.bryant/processing-guarantees-in-kafka-12dd2e30be0e&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34; ; color: rgb(220 , 161 , 13)&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1. There can be three gurantees:&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1.a At most once&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1.b At least once&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;1.c Exactly or Effectively Once&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;Gurantee deals with the threat of system failure, which could fail at many levels, i.e. producer client level, consumer client level or broker level etc. Kafka provides different gurantee&#39;s in this regard.&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;- At Most Once: it has a gurantee of one or None. None poses a problem that runs a risk of losing a message and most of this system&amp;nbsp; including will not like the idea of losing a message unless, old data is getting obsolete very quickly and we are more interested in new data. But in this regard all message is very crucial.&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;- At least once: this can be middle ground, that is it gurantees at least once message if system fails. But it comes with the issue of duplicates, which can be tolerated by introducing another stage in between.&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;At least gurantee can be achieved by setting enable.auto.commit as true as well as defining at what frequency you would like to commit the consumption. to reduce the number of duplicates, we can anytime increase the commit frequency.&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;At least gurantee systems can have additional stage to remove the duplicates, this way to burden of idempotency and to be atomic will not be with Kafka cluster and can decoupled from it.&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;With at least gurantee, there is no such overheads, we can save the offsets with some predefined frequency, depdendening on how many duplicate data can be handled when system fails.&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;-Effectively Once: This is effective and could remove the issue of duplicates but comes with an overhead. For each event we have to bind with offset commit statment in an atomic unit. i.e. for each message we are also doing a write in the offset storage, this could increase latency. Only kafka supports this.&amp;nbsp;&lt;span&gt;In other words we need to&amp;nbsp;&lt;/span&gt;&lt;i&gt;atomically&lt;/i&gt;&lt;span&gt;&amp;nbsp;save both the progress and data.&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p2&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34; ; min-height: 15px&quot;&gt;Also, effectively once to be successful the whole pipeline has to be the designed with the same mindset, else it will have not much difference. For example, if subsequent stage in the pipeline we have a tool spark streams which do not support effective once, then there is not much point in implementing and burdening Kafka cluster to have effective once, rather better to have at least once.&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;p2&quot; style=&quot;margin: 0px ; font-stretch: normal ; font-size: 13px ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34; ; min-height: 15px&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;shadow=1;" vertex="1" parent="jCGFnb368hU8gwx-G9o3-1">
          <mxGeometry x="257" y="450" width="1013" height="510" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="u_y6KvquFzKZKVTsQQ-1" name="Page-4">
    <mxGraphModel dx="1282" dy="674" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="h_Pqd2nHFwqfaF3Ivfd--0" />
        <mxCell id="h_Pqd2nHFwqfaF3Ivfd--1" parent="h_Pqd2nHFwqfaF3Ivfd--0" />
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
